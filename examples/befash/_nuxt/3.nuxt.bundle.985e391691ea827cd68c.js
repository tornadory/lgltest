webpackJsonp([3],{624:function(e,t,o){var n=o(75)(o(736),o(838),null,null,null);e.exports=n.exports},639:function(e,t,o){function n(e){o(644)}var i=o(75)(o(640),o(643),n,null,null);e.exports=i.exports},640:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:String},data:function(){return{progress:0}},methods:{handleUplaadSuccess:function(e,t){this.progress=0,this.$emit("input",e.data)},on_upload:function(e){this.progress=parseInt(e.percent)}}}},641:function(e,t,o){t=e.exports=o(76)(!0),t.push([e.i,".el-upload-dragger{width:200px;height:200px}","",{version:3,sources:["/var/gdpublic/gdpublic/components/my-upload.vue"],names:[],mappings:"AACA,mBACI,YAAa,AACb,YAAc,CACjB",file:"my-upload.vue",sourcesContent:["\n.el-upload-dragger {\n    width: 200px;\n    height: 200px;\n}\n"],sourceRoot:""}])},643:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-upload",{attrs:{drag:"",action:"/upload/image","show-file-list":!1,"on-success":e.handleUplaadSuccess,"on-progress":e.on_upload}},[e.progress?o("div",{staticStyle:{height:"200px",background:"#fff"}},[o("el-progress",{staticStyle:{padding:"40px 0"},attrs:{type:"circle",percentage:e.progress}})],1):e._e(),e.value?o("img",{staticStyle:{width:"100%"},attrs:{src:e.getImagePath(e.value)}}):e._e(),o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])])])},staticRenderFns:[]}},644:function(e,t,o){var n=o(641);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(77)("2cd85ac2",n,!0)},649:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{data:Object},data:function(){return{visible:!1}},methods:{remove:function(){this.visible=!1,this.$emit("remove")},edit:function(){this.$emit("edit")}}}},651:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{v:this.$props.value}},props:{options:Array,name:String,label:String,placeholder:String,value:Number},watch:{"$props.value":function(){this.v=this.$props.value}},methods:{onChange:function(e){this.$emit("input",e)}}}},653:function(e,t,o){t=e.exports=o(76)(!0),t.push([e.i,".card_list{overflow:hidden;padding:16px;margin:0 auto;list-style:none}.card_list_item{float:left;width:200px;height:260px;overflow:hidden;margin:8px;background:#fff;border-radius:2px;-webkit-box-shadow:0 2px 4px rgba(90,90,90,.1);box-shadow:0 2px 4px rgba(90,90,90,.1);-webkit-transition:-webkit-box-shadow .4s;transition:-webkit-box-shadow .4s;-o-transition:box-shadow .4s;transition:box-shadow .4s;transition:box-shadow .4s,-webkit-box-shadow .4s}.card_list_item:hover{-webkit-box-shadow:0 2px 8px rgba(90,90,90,.2);box-shadow:0 2px 8px rgba(90,90,90,.2)}.card_list_item img{width:200px;height:200px}.card_list .icon{color:#666;padding-right:8px;cursor:pointer;font-size:18px;display:block;float:left}.item_content{padding:8px}.text-overflow{display:block;word-break:keep-all;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.card_title{font-size:14px;color:#666}","",{version:3,sources:["/var/gdpublic/gdpublic/components/card.vue"],names:[],mappings:"AACA,WACI,gBAAiB,AACjB,aAAc,AACd,cAAe,AACf,eAAiB,CACpB,AACD,gBACI,WAAY,AACZ,YAAa,AACb,aAAc,AACd,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,kBAAmB,AACnB,+CAAmD,AAC3C,uCAA2C,AACnD,0CAA2C,AAC3C,kCAAmC,AACnC,6BAA8B,AAC9B,0BAA2B,AAC3B,gDAAmD,CACtD,AACD,sBACI,+CAAmD,AAC3C,sCAA2C,CACtD,AACD,oBACI,YAAa,AACb,YAAc,CACjB,AACD,iBACI,WAAY,AACZ,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,cAAe,AACf,UAAY,CACf,AACD,cACI,WAAa,CAChB,AACD,eACI,cAAe,AACf,oBAAqB,AACrB,mBAAoB,AACpB,gBAAiB,AACjB,0BAA2B,AACxB,sBAAwB,CAC9B,AACD,YACI,eAAgB,AAChB,UAAY,CACf",file:"card.vue",sourcesContent:["\n.card_list {\n    overflow: hidden;\n    padding: 16px;\n    margin: 0 auto;\n    list-style: none;\n}\n.card_list_item {\n    float: left;\n    width: 200px;\n    height: 260px;\n    overflow: hidden;\n    margin: 8px;\n    background: #fff;\n    border-radius: 2px;\n    -webkit-box-shadow: 0 2px 4px rgba(90, 90, 90, .1);\n            box-shadow: 0 2px 4px rgba(90, 90, 90, .1);\n    -webkit-transition: -webkit-box-shadow .4s;\n    transition: -webkit-box-shadow .4s;\n    -o-transition: box-shadow .4s;\n    transition: box-shadow .4s;\n    transition: box-shadow .4s, -webkit-box-shadow .4s;\n}\n.card_list_item:hover {\n    -webkit-box-shadow: 0 2px 8px rgba(90, 90, 90, .2);\n            box-shadow: 0 2px 8px rgba(90, 90, 90, .2);\n}\n.card_list_item img {\n    width: 200px;\n    height: 200px;\n}\n.card_list .icon {\n    color: #666;\n    padding-right: 8px;\n    cursor: pointer;\n    font-size: 18px;\n    display: block;\n    float: left;\n}\n.item_content {\n    padding: 8px;\n}\n.text-overflow {\n    display: block;\n    word-break: keep-all;\n    white-space: nowrap;\n    overflow: hidden;\n    -o-text-overflow: ellipsis;\n       text-overflow: ellipsis;\n}\n.card_title {\n    font-size: 14px;\n    color: #666;\n}\n\n"],sourceRoot:""}])},655:function(e,t,o){function n(e){o(661)}var i=o(75)(o(649),o(658),n,null,null);e.exports=i.exports},656:function(e,t,o){var n=o(75)(o(651),o(659),null,null,null);e.exports=n.exports},658:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-popover",{ref:"popover",attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[o("p",[e._v("确定删除吗？")]),o("div",{staticStyle:{"text-align":"right",margin:"0"}},[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.remove()}}},[e._v("确定")])],1)]),o("img",{attrs:{src:e.getImagePath("/min/"+(e.data.image||e.data.cover))}}),o("div",{staticClass:"item_content"},[o("span",{staticClass:"text-overflow card_title"},[e._v(e._s(e.data.name||e.data.title))]),o("div",[o("i",{staticClass:"icon",attrs:{title:"修改"},on:{click:function(t){t.preventDefault(),e.edit()}}},[e._v("")]),o("i",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"icon",attrs:{title:"删除"},on:{click:function(e){e.preventDefault()}}},[e._v("")])])])],1)},staticRenderFns:[]}},659:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-select",{attrs:{value:e.v,placeholder:"请选择"},on:{change:e.onChange},model:{value:e.v,callback:function(t){e.v=t},expression:"v"}},e._l(e.options,function(t,n){return o("el-option",{key:t[e.name],attrs:{label:t[e.label],value:t[e.name]}})}))},staticRenderFns:[]}},661:function(e,t,o){var n=o(653);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(77)("722cf09d",n,!0)},714:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(639),i=o.n(n),a=o(656),r=o.n(a);t.default={components:{myUpload:i.a,mySelect:r.a},data:function(){return{edit:!1,show:!1,index:0,form:{name:"",number:"",image:"",flowing:"",categoryId:void 0,fileTypeId:void 0,sexId:void 0,sortId:void 0,detailId:void 0},rules:{image:[{required:!0,message:"请上传封面图",trigger:"blur"}],name:[{required:!0,message:"请输入线稿名称",trigger:"blur"}]}}},methods:{open:function(e,t){var o=this.$store.state.mote;e?(this.index=t,this.form=o.list[t]):this.form={name:"",number:"",image:"",flowing:"",fileTypeId:void 0,sexId:void 0,sortId:void 0,detailId:void 0,categoryId:void 0},this.edit=e,this.show=!0},postLine:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.edit?e.$store.dispatch("mote/put",{index:e.index,data:e.form}).then(function(){e.$store.dispatch("mote/refresh",e.$store.state.mote.currentCategoryId),e.$refs.form.resetFields()}):e.$store.dispatch("mote/post",e.form).then(function(){e.$refs.form.resetFields()}),e.show=!1)})}}}},736:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(655),i=o.n(n),a=o(809),r=o.n(a);t.default={middleware:"check-auth",head:function(){return{title:"模特管理",meta:[{hid:"keyword",name:"keyword",content:"模特管理,百丰网络科技有限公司,3d"},{hid:"description",name:"description",content:"模特管理,百丰网络科技有限公司"}]}},fetch:function(e){var t=e.route,o=e.store;return o.dispatch("mote/refresh",t.params.id).then(function(){return o.dispatch("category/select",t.params.id)})},data:function(){return{dialog:!1,selectedIndex:0,page:1}},methods:{removeModel:function(e){this.$store.dispatch("mote/remove",e)},openModelDialog:function(e,t){this.$refs.dialog.open(e,t)},handleCurrentChange:function(e){this.$store.dispatch("mote/load",e)}},components:{card:i.a,moteDialog:r.a}}},766:function(e,t,o){t=e.exports=o(76)(!0),t.push([e.i,".material-left-menu{width:140px;float:left;min-height:300px;padding:0;margin:0;list-style:none;border-right:1px solid #eee;color:#999;font-size:14px;cursor:pointer}.material-left-menu li{padding:8px 0}.material-left-menu .active{color:#333;font-size:16px;cursor:default}.material-right{float:left;width:410px;padding:16px;margin:0;list-style:none;max-height:400px;overflow-y:auto}.material-right li{width:92px;height:114px;margin:4px;border:1px solid #eee;font-size:12px;float:left}.material-right li img{width:92px;height:92px}.material-right .active{border-color:#20a0ff}.material-dialog{width:612px}","",{version:3,sources:["/var/gdpublic/gdpublic/components/manager/mote-dialog.vue"],names:[],mappings:"AACA,oBACI,YAAa,AACb,WAAY,AACZ,iBAAkB,AAClB,UAAW,AACX,SAAU,AACV,gBAAiB,AACjB,4BAA6B,AAC7B,WAAY,AACZ,eAAgB,AAChB,cAAgB,CACnB,AACD,uBACI,aAAe,CAClB,AACD,4BACI,WAAY,AACZ,eAAgB,AAChB,cAAgB,CACnB,AACD,gBACI,WAAY,AACZ,YAAa,AACb,aAAc,AACd,SAAU,AACV,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CACpB,AACD,mBACI,WAAY,AACZ,aAAc,AACd,WAAY,AACZ,sBAAuB,AACvB,eAAgB,AAChB,UAAY,CACf,AACD,uBACI,WAAY,AACZ,WAAa,CAChB,AACD,wBACI,oBAAsB,CACzB,AACD,iBACI,WAAa,CAChB",file:"mote-dialog.vue",sourcesContent:["\n.material-left-menu {\n    width: 140px;\n    float: left;\n    min-height: 300px;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    border-right: 1px solid #eee;\n    color: #999;\n    font-size: 14px;\n    cursor: pointer;\n}\n.material-left-menu li {\n    padding: 8px 0;\n}\n.material-left-menu .active {\n    color: #333;\n    font-size: 16px;\n    cursor: default;\n}\n.material-right {\n    float: left;\n    width: 410px;\n    padding: 16px;\n    margin: 0;\n    list-style: none;\n    max-height: 400px;\n    overflow-y: auto;\n}\n.material-right li {\n    width: 92px;\n    height: 114px;\n    margin: 4px;\n    border: 1px solid #eee;\n    font-size: 12px;\n    float: left;\n}\n.material-right li img {\n    width: 92px;\n    height: 92px;\n}\n.material-right .active {\n    border-color: #20a0ff;\n}\n.material-dialog {\n    width: 612px;\n}\n"],sourceRoot:""}])},809:function(e,t,o){function n(e){o(886)}var i=o(75)(o(714),o(847),n,null,null);e.exports=i.exports},838:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"top-bar"},[o("span",{staticClass:"top-title"},[e._v(e._s(e.$store.state.category.currentCategory))]),o("span",{staticClass:"top-text"},[e._v(e._s(e.$store.state.mote.count)+" 模特")]),o("span",{staticClass:"top-text",on:{click:function(t){e.openModelDialog(!1)}}},[e._v("添加新模特")])]),o("div",[o("ul",{staticClass:"card_list container"},e._l(e.$store.state.mote.list,function(t,n){return o("li",{staticClass:"card_list_item"},[o("nuxt-link",{attrs:{to:"/editor/mote/"+t.id}},[o("card",{attrs:{data:t},on:{remove:function(t){e.removeModel(n)},edit:function(t){e.openModelDialog(!0,n)}}})],1)],1)}))]),o("mote-dialog",{ref:"dialog"}),e.$store.state.mote.count>20?o("div",{staticClass:"page"},[o("el-pagination",{attrs:{"current-page":e.page,"page-size":20,layout:"total, prev, pager, next",total:e.$store.state.mote.count},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t}}})],1):e._e()],1)},staticRenderFns:[]}},847:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.edit?"修改模特":"新增模特",visible:e.show},on:{"update:visible":function(t){e.show=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"模特名称",prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"类别",prop:"categoryId"}},[o("my-select",{attrs:{value:"form.categoryId",placeholder:"选择类别",options:e.$store.state.category.list,label:"name",name:"id"},model:{value:e.form.categoryId,callback:function(t){e.form.categoryId=t},expression:"form.categoryId"}})],1),o("el-form-item",{attrs:{label:"模特图片",prop:"image"}},[o("div",[o("br"),o("my-upload",{model:{value:e.form.image,callback:function(t){e.form.image=t},expression:"form.image"}})],1)])],1),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.postLine}},[e._v("确 定")])],1)],1)},staticRenderFns:[]}},886:function(e,t,o){var n=o(766);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(77)("50ddb873",n,!0)}});