webpackJsonp([15],{632:function(e,t,i){function a(e){i(885)}var n=i(75)(i(744),i(846),a,null,null);e.exports=n.exports},634:function(e,t,i){function a(e){return i(n(e))}function n(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./background0.jpg":635,"./background2.jpg":636,"./background3.jpg":637,"./background4.jpg":638};a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=634},635:function(e,t,i){e.exports=i.p+"img/background0.b0eab6f.jpg"},636:function(e,t,i){e.exports=i.p+"img/background2.06aef60.jpg"},637:function(e,t,i){e.exports=i.p+"img/background3.1891c8e.jpg"},638:function(e,t,i){e.exports=i.p+"img/background4.cb0fbbe.jpg"},646:function(e,t,i){e.exports=i.p+"img/logo.d4a4f45.gif"},693:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_classCallCheck__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_3__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_4__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_createClass__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_4__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_createClass__),Editor=function(){function Editor(e,t,i,a){__WEBPACK_IMPORTED_MODULE_3__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_classCallCheck___default()(this,Editor),this.view=e,this.tag=t,this.briefView=a;var n=new THREE.LoadingManager;n.onProgress=function(e,t,a){var n=parseInt(t/a*100)+"%";i&&i(!0,n)},n.onLoad=function(){i&&i(!1,"0%")},this.load=new THREE.CBMLoader(n);var r={};r.type="js",this.drcLoad=new THREE.DRACOLoader("/upload/js/",r,n),this.textureLoad=new THREE.TextureLoader(n),this.raycaster=new THREE.Raycaster,this.mouse=new THREE.Vector2,this.ModelsChild=[],this.testModels=[],this.models=[],this.material={},this.globalMaterial=[],this.selectedMaterial=[],this.waitLoad=[],this.spotLight=[],this.spotLight1=[],this.exposure=[],this.materials={},this.ambient=[],this.currentMaterial={},this.motes={},this.num=45,this.preGlobalMaterial={},this.bgController=[],this.isEnv=!1,this.curEnv=0,this.envMaps=[],this.mobile=!1,this.envMapIntensity=0,this.isSkyBox=!1,this.isOnclick=!1,this.urls=[["room/posx.jpg","room/negx.jpg","room/posy.jpg","room/negy.jpg","room/posz.jpg","room/negz.jpg"],["Bridge2/posx.jpg","Bridge2/negx.jpg","Bridge2/posy.jpg","Bridge2/negy.jpg","Bridge2/posz.jpg","Bridge2/negz.jpg"],["skybox/px.jpg","skybox/nx.jpg","skybox/py.jpg","skybox/ny.jpg","skybox/pz.jpg","skybox/nz.jpg"],["Castle/px.jpg","Castle/nx.jpg","Castle/py.jpg","Castle/ny.jpg","Castle/pz.jpg","Castle/nz.jpg"]],this._meshList=[],this.init(),window.addEventListener("resize",function(){this.renderer.setSize(this.view.offsetWidth,this.view.offsetHeight),this.camera.aspect=this.view.offsetWidth/this.view.offsetHeight,this.camera.updateProjectionMatrix(),this.render()}.bind(this)),this.view.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.view.addEventListener("click",this.onClick.bind(this),!1),this.view.addEventListener("mousemove",this.onMouseMove.bind(this),!1)}return __WEBPACK_IMPORTED_MODULE_4__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_createClass___default()(Editor,[{key:"init",value:function(){this.initScene(),this.initCamera(),this.initRender(),this.initLight(),this.initControls(),this.initPatternManager(),this.view.appendChild(this.renderer.domElement),this.render()}},{key:"initScene",value:function(){this.scene=new THREE.Scene,this.group=new THREE.Group,this.scene.background=(new THREE.Color).setHSL(.6,0,1),this.scene.fog=new THREE.Fog(this.scene.background,1,5e3),this.scene.add(this.group)}},{key:"initCamera",value:function(){this.camera=new THREE.PerspectiveCamera(60,this.view.offsetWidth/this.view.offsetHeight,.01,800),this.camera.position.z=1,this.camera.position.y=0,this.camera.lookAt({x:0,y:0,z:0}),this.camera.up.x=this.camera.up.z=0,this.camera.up.y=1}},{key:"initPatternManager",value:function(){var e=this;this.homePatternManager=new THREE.HomePatternManger(this.view,this.group,this.raycaster,this.controls,function(){return e.camera},this.render.bind(this))}},{key:"initRender",value:function(){this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(16777215),this.renderer.setSize(this.view.offsetWidth,this.view.offsetHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.renderer.shadowMapSoft=!0,this.renderer.setPixelRatio(window.devicePixelRatio)}},{key:"initControls",value:function(){this.controls=new THREE.OrbitControls(this.camera,this.view,this.group),this.controls.enableDamping=!0,1==this.mobile?(this.controls.rotateSpeed=.005,this.controls.dampingFactor=2.5):(this.controls.rotateSpeed=.08,this.controls.dampingFactor=.1),this.controls.minDistance=.3,this.controls.maxDistance=20,this.controls.maxPolarAngle=1.2,this.controls.addEventListener("change",this.render.bind(this)),this.controls.addEventListener("start",this.inertiaStart.bind(this)),this.controls.addEventListener("end",this.inertiaEnd.bind(this))}},{key:"saveCamera",value:function(e){this.camera.position.x=e[0],this.camera.position.y=e[1],this.camera.position.z=e[2],this.controls.update()}},{key:"onClick",value:function(e){if(this.isOnclick){this.mouse.x=e.clientX/this.view.offsetWidth*2-1,this.mouse.y=-e.clientY/this.view.offsetHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var t=void 0,i=this.raycaster.intersectObjects(this.homePatternManager.get_meshList());if(i.length>0){if(t=i[0].object,t.brief||t.households||t.href){var a=t.brief?JSON.parse(t.brief):"",n=!!t.href;this.briefView(a,t.households,n)}t.href&&(window.location.href=t.href)}this.render()}}},{key:"onMouseDown",value:function(){this.isOnclick=!0}},{key:"onMouseMove",value:function(e){this.mouse.x=e.clientX/this.view.offsetWidth*2-1,this.mouse.y=-e.clientY/this.view.offsetHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.homePatternManager.get_meshList());t.length>0?(this.currentMesh&&this.currentMesh.material.emissive.setHex(this.currentMesh.currentHex),this.currentMesh=t[0].object,this.tag(this.currentMesh.name,e),this.currentMesh.currentHex=this.currentMesh.material.emissive.getHex(),this.currentMesh.material.emissive.setHex(16711680)):(this.currentMesh&&this.currentMesh.material.emissive.setHex(this.currentMesh.currentHex),this.currentMesh=null),this.isOnclick=!1,this.render()}},{key:"initLight",value:function(){this.hemiLight=new THREE.HemisphereLight(16777215,16777215,.29),this.hemiLight.color.setHSL(.6,1,.6),this.hemiLight.groundColor.setHSL(.095,1,.75),this.hemiLight.position.set(0,50,0),this.scene.add(this.hemiLight),this.dirLight=new THREE.DirectionalLight(16777215,.73),this.dirLight.color.setHSL(.1,1,.95),this.dirLight.position.set(0,1,1),this.dirLight.position.multiplyScalar(30),this.scene.add(this.dirLight),this.dirLight1=new THREE.DirectionalLight(16777215,.75),this.dirLight1.color.setHSL(.1,1,.95),this.dirLight1.position.set(0,1,-1),this.dirLight1.position.multiplyScalar(30),this.scene.add(this.dirLight1),this.dirLight.shadow.mapSize.width=2048,this.dirLight.shadow.mapSize.height=2048,this.dirLight.shadow.bias=-1e-4,this.ambient=new THREE.AmbientLight(16777215,.2),this.scene.add(this.ambient)}},{key:"openHot",value:function(e){if(e){for(var t=0;t<this.models.length;t++)if(this.models[t][0]){if(this.models[t][0].hotLevel)switch(this.models[t][0].hotLevel){case 1:this.models[t][0].material.color.set(16774645),this.models[t][0].material.emissive.set(6881537);break;case 2:this.models[t][0].material.color.set(16742520),this.models[t][0].material.emissive.set(6881537);break;case 3:this.models[t][0].material.color.set(16711680),this.models[t][0].material.emissive.set(6881537)}if(this.models[t][0].childComponent)for(var i=0;i<this.models[t][0].childComponent.length;i++)if(this.models[t][0].childComponent[i]&&this.models[t][0].childComponent[i].hotLevel)switch(this.models[t][0].childComponent[i].hotLevel){case 1:this.models[t][0].childComponent[i].material.color.set(16774645),this.models[t][0].childComponent[i].material.emissive.set(6881537);break;case 2:this.models[t][0].childComponent[i].material.color.set(16742520),this.models[t][0].childComponent[i].material.emissive.set(6881537);break;case 3:this.models[t][0].childComponent[i].material.color.set(16711680),this.models[t][0].childComponent[i].material.emissive.set(6881537)}}}else for(var a=0;a<this.models.length;a++)if(this.models[a][0]&&(this.models[a][0].hotLevel&&(this.models[a][0].material.color.set(16777215),this.models[a][0].material.emissive.set(0)),this.models[a][0].childComponent))for(var n=0;n<this.models[a][0].childComponent.length;n++)this.models[a][0].childComponent[n]&&this.models[a][0].childComponent[n].hotLevel&&(this.models[a][0].childComponent[n].material.color.set(16777215),this.models[a][0].childComponent[n].material.emissive.set(0));this.render()}},{key:"loadModel",value:function(){function e(e,i,a,n,r,s){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i,a,n,r,s){var _,o,l,d,h,c,u,m,p,b=this;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.models[t]||(this.models[t]=[]),!this.models[t][i]){e.next=6;break}for(_=0;_<this.models[t].length;_++)if(this.models[t][_]&&(this.models[t][_].visible=_===i,this.models[t][_].childComponent))for(o=0;o<this.models[t][_].childComponent.length;o++)this.models[t][_].childComponent[o].visible=_===i;this.render(),e.next=40;break;case 6:if(l=void 0,!/(.drc|.bf)$/.test(a.toLowerCase())){e.next=14;break}return e.next=10,new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(e,t){b.drcLoad.load(a,function(t){e(t)})});case 10:d=e.sent,l=new THREE.Mesh(d,new THREE.MeshPhongMaterial),e.next=17;break;case 14:return e.next=16,new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(e,t){b.load.load(a,function(t){e(t)})});case 16:l=e.sent;case 17:for(l.isMesh?(l.castShadow=!0,l.receiveShadow=!0):l.traverse(function(e){e.castShadow=!0,e.receiveShadow=!0,e.geometry&&(e.geometry.attributes.uv2=e.geometry.attributes.uv),b.testModels.push(e),e.isMesh&&b.ModelsChild.push(e)}),h=0;h<this.models[t].length;h++)if(this.models[t][h]&&(this.models[t][h].visible=!1,this.models[t][h].childComponent))for(c=0;c<this.models[t][h].childComponent.length;c++)this.models[t][h].childComponent[c].visible=h===i,this.models[t][h].childComponent[c].tag;if(l.brief=r.brief,l.name=r.name,l.households=r.households,l.href=r.href,l.hotLevel=r.hotLevel,this.models[t][i]=l,s&&this.loadPattern(t,i,s),void 0!==this.selectedMaterial[t]&&this.setMaterial(t,this.material[t][this.selectedMaterial[t]]),this.group.add(l),l.traverse(function(e){e.isMesh&&b.homePatternManager.pushMeshList(e)}),!n){e.next=39;break}this.models[t][i].childComponent=[],u=void 0,m=__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(a){var r,s;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!/(.drc|.bf)$/.test(n[a].model.toLowerCase())){e.next=7;break}return e.next=3,new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(e,t){b.drcLoad.load("/upload/"+n[a].model,function(t){e(t)})});case 3:r=e.sent,u=new THREE.Mesh(r,new THREE.MeshPhongMaterial),e.next=10;break;case 7:return e.next=9,new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(e,t){b.load.load("/upload/"+n[a].model,function(t){e(t)})});case 9:u=e.sent;case 10:if(u.isMesh?(u.castShadow=!0,u.receiveShadow=!0):u.traverse(function(e){e.geometry&&(e.geometry.attributes.uv2=e.geometry.attributes.uv),e.castShadow=!0,e.receiveShadow=!0}),u.brief=n[a].brief,u.name=n[a].name,u.households=n[a].households,u.href=n[a].href,u.hotLevel=n[a].hotLevel,s=void 0,!n[a].fabric){e.next=21;break}return e.next=20,b.getMaterial(JSON.parse(n[a].fabric.material),n[a].repeat||1);case 20:s=e.sent;case 21:s&&(u.isMesh?(u.material=s,u.material.needsUpdate=!0):u.traverse(function(e){e.isMesh&&(e.material=s,e.material.needsUpdate=!0)})),b.group.add(u),b.models[t][i].childComponent.push(u);case 24:case"end":return e.stop()}},e,b)}),p=0;case 34:if(!(p<n.length)){e.next=39;break}return e.delegateYield(m(p),"t0",36);case 36:p++,e.next=34;break;case 39:this.render();case 40:case"end":return e.stop()}},e,this)}));return e}()},{key:"initMaterial",value:function(){function e(e,i,a,n){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i,a,n){return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.material[t]=[],e.next=3,this.getMaterial(a,n);case 3:this.material[t][i]=e.sent,this.material[t][i].repeat=n,this.setMaterial(t,this.material[t][i]),this.selectedMaterial[t]=i,this.render();case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"initEnv",value:function(){function e(e,i){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i){return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnv=t,!t){e.next=7;break}if(this.curEnv=i,this.envMaps[i]){e.next=7;break}return e.next=6,this.loadEnvMap(this.urls[i]);case 6:this.envMaps[i]=e.sent;case 7:this.render();case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadMaterial",value:function(){function e(e,i,a,n){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i,a,n){var r,s,_;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(clearInterval(this.changeOpacity),this.changeOpacity=null,r=a.opacity,this.material[t]||(this.material[t]=[]),!this.material[t][i]){e.next=8;break}(this.material[t][i].repeat||n)&&this.changeRepeat(t,i,n),e.next=11;break;case 8:return e.next=10,this.getMaterial(a,n);case 10:this.material[t][i]=e.sent;case 11:this.material[t][i].repeat=n,this.selectedMaterial[t]||this.setMaterial(t,this.material[t][i]),void 0!==this.selectedMaterial[t]&&i!==this.selectedMaterial[t]?(this.setMaterial(t,this.material[t][i]),s=this.material[t][i].transparent,this.material[t][i].transparent=!0,this.material[t][i].opacity=.8,_=this,this.changeOpacity=setInterval(function(){_.material[t][i].opacity+=.1,_.material[t][i].opacity>=1&&(_.material[t][i].transparent=s,_.material[t][i].opacity=r,clearInterval(_.changeOpacity),_.changeOpacity=null),_.render()},150)):this.material[t][i].opacity=r,this.selectedMaterial[t]=i,this.render();case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMaterial",value:function(){function e(e,i){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i){var a,n;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={side:THREE.DoubleSide},e.t0=__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(n=e.t1.value,!t.hasOwnProperty(n)||!t[n]||"#000"===t[n]){e.next=16;break}if(!n.includes("map")&&!n.includes("Map")){e.next=15;break}if(!n.includes("aoMapIntensity")){e.next=10;break}a[n]=t[n],e.next=13;break;case 10:return e.next=12,this.loadTexture(t[n],i);case 12:a[n]=e.sent;case 13:e.next=16;break;case 15:a[n]=t[n];case 16:e.next=2;break;case 18:return this.isEnv&&(a.envMap=this.envMaps[this.curEnv],a.envMapIntensity=this.envMapIntensity),e.abrupt("return",new THREE.MeshPhysicalMaterial(a));case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateMaterialColor",value:function(e,t,i,a){this.material[e][t]&&"#000"!==a&&(this.material[e][t][i]=new THREE.Color(a)),this.render()}},{key:"updateMaterialNumber",value:function(e,t,i,a){this.material[e][t]&&(this.material[e][t][i]=a),this.render()}},{key:"loadEnvMap",value:function(e){var t=this;return this.loader=(new THREE.CubeTextureLoader).setPath("/upload/"),new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(i,a){t.loader.load(e,function(e){i(e)})})}},{key:"loadTexture",value:function(e,t){var i=this;return new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(a,n){i.textureLoad.load("/upload/"+e,function(e){e.wrapS=e.wrapT=THREE.RepeatWrapping,e.repeat.set(t,t),a(e)})})}},{key:"inspectMobile",value:function(){this.mobile=!0}},{key:"changeRepeat",value:function(e,t,i){if(this.material[e]&&this.material[e][t]&&this.material[e][t].repeat!==i){var a=this.material[e][t];a.map&&a.map.repeat.set(i,i),a.normalMap&&a.normalMap.repeat.set(i,i),a.specularMap&&a.specularMap.repeat.set(i,i),a.lightMap&&a.lightMap.repeat.set(i,i),a.needsUpdate=!0,this.render()}}},{key:"changeChildFabricRepeat",value:function(e,t,i,a){if(this.models[e]&&this.models[e][t]&&this.models[e][t].childComponent&&this.models[e][t].childComponent[i]){var n=this.models[e][t].childComponent[i].material;n.map&&n.map.repeat.set(a,a),n.normalMap&&n.normalMap.repeat.set(a,a),n.specularMap&&n.specularMap.repeat.set(a,a),n.lightMap&&n.lightMap.repeat.set(a,a),n.needsUpdate=!0,this.render()}}},{key:"changeBloom",value:function(e,t){this.bloomPass[e]=t,this.render()}},{key:"changeShadow",value:function(e){this.dirLight.castShadow=e,this.render()}},{key:"changeLightBias",value:function(e){this.dirLight.shadow.bias=e,this.render()}},{key:"initEnv",value:function(){function e(e,i){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i){return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnv=t,!t){e.next=7;break}if(this.curEnv=i,this.envMaps[i]){e.next=7;break}return e.next=6,this.loadEnvMap(this.urls[i]);case 6:this.envMaps[i]=e.sent;case 7:this.render();case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"changeBackground",value:function(){function e(e){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t){var i=this;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t){e.next=9;break}if(this.isSkyBox=!0,this.envMaps[this.curEnv]){e.next=6;break}return e.next=5,this.loadEnvMap(this.urls[this.curEnv]);case 5:this.envMaps[this.curEnv]=e.sent;case 6:this.scene.background=this.envMaps[this.curEnv],e.next=15;break;case 9:if(this.isSkyBox=!1,this.bgController[t]){e.next=14;break}return e.next=13,new __WEBPACK_IMPORTED_MODULE_1__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_core_js_promise___default.a(function(e,a){i.textureLoad.load(__webpack_require__(634)("./background"+t+".jpg"),function(t){e(t)})});case 13:this.bgController[t]=e.sent;case 14:this.scene.background=this.bgController[t];case 15:this.render();case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"changeEnvMaps",value:function(){function e(e,i){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i){return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnv=t,!t){e.next=8;break}if(this.curEnv=i,this.envMaps[i]){e.next=7;break}return e.next=6,this.loadEnvMap(this.urls[i]);case 6:this.envMaps[i]=e.sent;case 7:this.isSkyBox&&(this.scene.background=this.envMaps[this.curEnv]);case 8:this.updateModels(),this.render();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"changeEnvMapIntensity",value:function(e){this.envMapIntensity=e,this.updateModels()}},{key:"updateModels",value:function(){if(this.isEnv)for(var e in this.material)for(var t=0;t<this.material[e].length;t++)this.material[e][t].envMap=this.envMaps[this.curEnv],this.material[e][t].envMapIntensity=this.envMapIntensity,this.material[e][t].needsUpdate=!0;else for(var i in this.material)for(var a=0;a<this.material[i].length;a++)this.material[i][a].envMap=null,this.material[i][a].envMapIntensity=0,this.material[i][a].needsUpdate=!0;for(var n=0;n<this.models.length;n++)this.selectedMaterial[n]&&this.material[n][this.selectedMaterial[n]]&&this.setMaterial(n,this.material[n][this.selectedMaterial[n]]);this.render()}},{key:"changeExposure",value:function(e){this.renderer.toneMappingExposure=Math.pow(e,.1),this.render()}},{key:"changeClothesLight",value:function(e,t){switch(e){case"spot":this.dirLight.intensity=t;break;case"hemisphere":this.hemiLight.intensity=t;break;case"point":this.dirLight1.intensity=t;break;case"ambient":this.ambient.intensity=t;break;case"spotLight1":this.spotLight1.intensity=t}this.render()}},{key:"changeGroupFabricRepeat",value:function(e,t,i){if(this.material[e+t]&&this.material[e+t].repeat!==i){var a=this.material[e+t];a.map&&a.map.repeat.set(i,i),a.normalMap&&a.normalMap.repeat.set(i,i),a.specularMap&&a.specularMap.repeat.set(i,i),a.lightMap&&a.lightMap.repeat.set(i,i),a.needsUpdate=!0,this.render()}}},{key:"shadowSwitch",value:function(e,t){for(var i=0;i<this.testModels.length;i++)this.models[e]&&this.models[e][0]===this.testModels[i]&&(this.testModels[i+1].castShadow=t);this.render()}},{key:"changeGlobalRepeat",value:function(e,t){if(this.globalMaterial[e]&&this.globalMaterial[e].repeat!==t){var i=this.globalMaterial[e];i.map&&i.map.repeat.set(t,t),i.normalMap&&i.normalMap.repeat.set(t,t),i.specularMap&&i.specularMap.repeat.set(t,t),i.lightMap&&i.lightMap.repeat.set(t,t),i.needsUpdate=!0,this.render()}}},{key:"setMaterial",value:function(e,t){if(this.models[e])for(var i=0;i<this.models[e].length;i++)this.models[e][i]&&(this.models[e][i].isMesh?(this.models[e][i].hotcolor=t.color,this.models[e][i].hotemissive=t.emissive,this.models[e][i].material=t,this.models[e][i].material.needsUpdate=!0):this.models[e][i].traverse(function(e){e.isMesh&&(e.hotcolor=t.color,e.hotemissive=t.emissive,e.material=t,e.material.needsUpdate=!0)}))}},{key:"loadPattern",value:function(e,t,i){i&&(i=JSON.parse(i),this.patternManager.drawDefault(this.models[e][t],this.models[e][t].children[i.mesh],new THREE.Vector3(i.position.x,i.position.y,i.position.z),new THREE.Euler(i.rotation.x,i.rotation.y,i.rotation.z),new THREE.Vector3(i.dimensions.x,i.dimensions.y,i.dimensions.z)))}},{key:"homeBeginPattern",value:function(){function e(e,i){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t,i){var a;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.parse(i),i.depthTest=!0,i.depthWrite=!1,i.polygonOffset=!0,i.polygonOffsetFactor=-1,e.next=7,this.getMaterial(i,1);case 7:a=e.sent,console.log(a),this.homePatternManager.setEnable(!0),this.homePatternManager.changeMaterial(t,a);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"homeScalePattern",value:function(e){this.homePatternManager.scalePattern(e)}},{key:"homeEndPattern",value:function(){this.homePatternManager.setEnable(!1)}},{key:"homeRemovePattern",value:function(){this.homePatternManager.removePattern()}},{key:"beginPattern",value:function(e,t){this.patternManager.setEnable(!0,this.models[e][t])}},{key:"endPattern",value:function(e,t){this.patternManager.setEnable(!1,this.models[e][t])}},{key:"getPatternParams",value:function(e){this.patterns=[];for(var t=0;t<this.models.length;t++)if(this.models[t])for(var i=0;i<this.models[t].length;i++)if(this.models[t][i].pattern){var a=this.models[t][i].pattern.params;this.patterns.push({id:e[t].components[i].id,params:{position:{x:a.position.x,y:a.position.y,z:a.position.z},rotation:{x:a.rotation.x,y:a.rotation.y,z:a.rotation.z},dimensions:{x:a.dimensions.x,y:a.dimensions.y,z:a.dimensions.z},mesh:a.index}})}else this.patterns.push({id:e[t].components[i].id,params:void 0});return this.patterns}},{key:"scalePattern",value:function(e){this.patternManager.scalePattern(e)}},{key:"removePattern",value:function(){this.patternManager.removePattern()}},{key:"loadPatternMaterial",value:function(){function e(e){return t.apply(this,arguments)}var t=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function e(t){var i;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMaterial(JSON.parse(t),1);case 2:i=e.sent,this.patternManager.changeMaterial(i);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"changeTarget",value:function(e,t){this.models[e][t]||this.waitLoad.push({pIndex:e,cIndex:t,fun:function(){}})}},{key:"setModelRepeat",value:function(e,t){e.map&&e.map.repeat.set(t,t),e.normalMap&&e.normalMap.repeat.set(t,t),e.specularMap&&e.specularMap.repeat.set(t,t),e.lightMap&&e.lightMap.repeat.set(t,t),e.needsUpdate=!0}},{key:"loadMote",value:function loadMote(mote){var _this6=this;if(this.motes[mote.id]){if(this.selectedMotes!==mote.id){for(var i=0;i<this.motes[this.selectedMotes].models.length;i++)this.motes[this.selectedMotes].models[i].visible=!1;for(var _i5=0;_i5<this.motes[mote.id].models.length;_i5++)this.motes[mote.id].models[_i5].visible=!0;this.render()}}else!function(){if(_this6.motes[_this6.selectedMotes])for(var _i6=0;_i6<_this6.motes[_this6.selectedMotes].models.length;_i6++)_this6.motes[_this6.selectedMotes].models[_i6].visible=!1;var child=mote.child;mote.models=[];for(var _loop2=function _loop2(j){/(.drc|.bf)$/.test(child[j].model)?_this6.drcLoad.load("/upload/"+child[j].model,function(){var _ref11=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function _callee11(geometry){var cbm,_material,materials,repeatString,repeat,materialinfo;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function _callee11$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(cbm=new THREE.Mesh(geometry,new THREE.MeshPhongMaterial),cbm.isMesh?(cbm.receiveShadow=!0,cbm.castShadow=!0):cbm.traverse(function(e){e.receiveShadow=!0,e.castShadow=!0}),!child[j].material){_context12.next=14;break}return _context12.next=5,_this6.getMaterial(JSON.parse(child[j].material),1);case 5:_material=_context12.sent,_this6.materials[child[j].id]=_material,_this6.materials[child[j].id].config=child[j].material||child[j].fabric.material,materials=_this6.materials[child[j].id].config,repeatString=eval("("+materials+")"),repeat=repeatString.repeat,materialinfo=_this6.materials[child[j].id],_this6.setModelRepeat(materialinfo,repeat),cbm.isMesh?(cbm.receiveShadow=!0,cbm.castShadow=!0,cbm.material=_material,cbm.material.needsUpdate=!0):cbm.traverse(function(e){e.isMesh&&(e.receiveShadow=!0,e.castShadow=!0,e.material=_material,e.material.needsUpdate=!0)});case 14:_this6.group.add(cbm),mote.models.push(cbm),_this6.render();case 17:case"end":return _context12.stop()}},_callee11,_this6)}));return function(e){return _ref11.apply(this,arguments)}}()):_this6.load.load("/upload/"+child[j].model,function(){var _ref12=__WEBPACK_IMPORTED_MODULE_2__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.mark(function _callee12(cbm){var _material2,materials,repeatString,repeat,materialinfo;return __WEBPACK_IMPORTED_MODULE_0__var_gdpublic_gdpublic_node_modules_babel_runtime_6_26_0_babel_runtime_regenerator___default.a.wrap(function _callee12$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if(cbm.isMesh?(cbm.receiveShadow=!0,cbm.castShadow=!0):cbm.traverse(function(e){e.receiveShadow=!0,e.castShadow=!0}),!child[j].material){_context13.next=13;break}return _context13.next=4,_this6.getMaterial(JSON.parse(child[j].material),1);case 4:_material2=_context13.sent,_this6.materials[child[j].id]=_material2,_this6.materials[child[j].id].config=child[j].material||child[j].fabric.material,materials=_this6.materials[child[j].id].config,repeatString=eval("("+materials+")"),repeat=repeatString.repeat,materialinfo=_this6.materials[child[j].id],_this6.setModelRepeat(materialinfo,repeat),cbm.isMesh?(cbm.receiveShadow=!0,cbm.castShadow=!0,cbm.material=_material2,cbm.material.needsUpdate=!0):cbm.traverse(function(e){e.isMesh&&(e.receiveShadow=!0,e.castShadow=!0,e.material=_material2,e.material.needsUpdate=!0)});case 13:_this6.group.add(cbm),mote.models.push(cbm),_this6.render();case 16:case"end":return _context13.stop()}},_callee12,_this6)}));return function(e){return _ref12.apply(this,arguments)}}())},j=0;j<child.length;j++)_loop2(j);_this6.motes[mote.id]=mote}();this.selectedMotes=mote.id}},{key:"inertiaEnd",value:function(){var e=this;this.inertia=setInterval(function(){e.controls.update()},30),this.clearInert=setTimeout(function(){clearInterval(e.inertia)},3e3)}},{key:"inertiaStart",value:function(){clearInterval(this.inertia),clearInterval(this.clearInert)}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),Editor}();__webpack_exports__.a=Editor},744:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(78),n=i.n(a),r=i(693),s=i(104);t.default={head:function(){return{title:"3D场景",meta:[{hid:"keyword",name:"keyword",content:"3D场景,百丰网络科技有限公司,3d"},{hid:"description",name:"description",content:"3D场景,百丰网络科技有限公司"}]}},mounted:function(){var e=this;this.$editor=new r.a(document.getElementById("editor"),function(t,i){e.tag=t,e.positionx=i.clientX,e.positiony=i.clientY},function(t,i){if(e.loadding=t,e.progress=i,"100%"==e.progress)for(var a=0;a<e.buildingList.length;a++)e.$editor.shadowSwitch(a,e.buildingList[a].castShadow)},function(t,i,a){e.brief=t,e.household=i,e.isJump=a}),this.background&&"object"===n()(JSON.parse(this.background))&&(JSON.parse(this.background).isEnv&&(this.$editor.initEnv(!0,JSON.parse(this.background).envController),this.$editor.changeEnvMapIntensity(JSON.parse(this.background).envMapIntensity)),""!==JSON.parse(this.background).bgController&&this.$editor.changeBackground(JSON.parse(this.background).bgController)),this.mobile={version:function(){var e=navigator.userAgent;navigator.appVersion;return{mobile:!!e.match(/AppleWebKit.*Mobile.*/)}}()},this.mobile.version.mobile&&this.$editor.inspectMobile();for(var t=0;t<this.buildingList.length;t++)this.buildingList.length&&this.$editor.loadModel(t,0,"/upload/"+this.buildingList[t].model,this.buildingList[t].child_buildings,this.buildingList[t]),this.buildingList[t].fabrics.length&&this.$editor.loadMaterial(t,0,JSON.parse(this.buildingList[t].fabrics[0].material),this.buildingList[t].fabrics[0].building_fabric.repeat||1);this.model&&this.model.child.length&&this.$editor.loadMote(this.model),this.$editor.changeExposure(this.exposure),"object"===n()(JSON.parse(this.light))&&(this.clothesLight=JSON.parse(this.light));for(var i in this.clothesLight)this.$editor.changeClothesLight(i,this.clothesLight[i]);if(this.$editor.changeShadow(this.shadow),this.camera){var a=JSON.parse(this.camera);this.$editor.saveCamera(a)}this.lightBias&&this.$editor.changeLightBias(this.lightBias)},computed:i.i(s.mapState)({data:function(e){return e.buildView.data||[]},model:function(e){return e.buildView.data.model},lightBias:function(e){return e.buildView.data.lightBias},background:function(e){return e.buildView.data.background},camera:function(e){return e.buildView.data.camera},initConfig:function(e){return e.buildView.data.saveConfig},shadow:function(e){return e.buildView.data.shadow||!1},light:function(e){return e.buildView.data.light||1},exposure:function(e){return e.buildView.data.exposure||1},buildingList:function(e){return e.buildView.data.buildings||[]},childBuildingList:function(e){return-1!==e.selectedPart&&e.buildView.data.buildings[e.buildView.selectedPart]?e.buildView.data.buildings[e.buildView.selectedPart].child_buildings:[]}}),fetch:function(e){e.route;return e.store.dispatch("buildView/one",21)},data:function(){return{initstate:{},isJump:!1,edit:!1,allMaterial:0,allFabric:0,editor:0,clothesLight:{spot:.97,hemisphere:.27,point:.67,ambient:.32},componentbox:-120,materialboxn:-120,buttonmaterialtab:-120,materialboxall:-120,logobox:-80,progress:"0%",loadding:!0,slidehighlight:0,slidedot:-15,embroideryvalue:0,tag:"",positionx:"",positiony:"",brief:[{label:"楼栋编号",brief:""},{label:"建设年份",brief:""},{label:"管理员姓名（电话）",brief:""},{label:"楼栋实有人口",brief:""},{label:"楼栋出入口数量",brief:""},{label:"楼栋实有车辆数量",brief:""},{label:"出租屋数量",brief:""},{label:"空置房间数量",brief:""},{label:"楼栋电梯数量",brief:""},{label:"楼栋消防栓数量",brief:""},{label:"消防设备数量",brief:""}],household:{},activeName:"1",isHot:!1}},watch:{isHot:function(e){this.$editor.openHot(e)}},methods:{saveConfig:function(){this.$store.dispatch("buildView/saveConfig")},toNewPage:function(e){window.location.href=e}}}},765:function(e,t,i){t=e.exports=i(76)(!0),t.push([e.i,"html{font-size:100px}body{font-family:PingFang SC}#tag{position:fixed;top:2%;right:2%;background:#3569c6;border:.01rem solid #00aeff;padding:.1rem;width:3rem;color:#fff;font-weight:700}#editor{position:absolute;overflow:hidden;top:0;left:0;right:0;bottom:0}#bqy{position:fixed;background-color:#fff;display:inline-block;padding:0 .1rem;height:.32rem;line-height:.3rem;font-size:.12rem;color:#409eff;border-radius:.04rem;-webkit-box-sizing:border-box;box-sizing:border-box;border:.03rem solid rgba(64,158,255,.2);white-space:nowrap}#progress{color:#78ddff;bottom:0;background:#f7f7f7;background:hsla(0,0%,97%,.9);z-index:100;font-size:.24rem}#progress,#progress-box{position:absolute;top:0;left:0;right:0}#progress-box{text-align:center;height:.78rem;margin:auto;bottom:.36rem}#imglogo{width:2rem;height:1rem}.loading{width:1.5rem;height:.15rem;margin:0 auto;top:35%;left:50%;position:absolute}.loading span{display:inline-block;width:.15rem;height:100%;margin-right:.05rem;border-radius:50%;background:#333;-webkit-animation:load 1.04s ease infinite}.loading span:last-child{margin-right:0}@-webkit-keyframes load{0%{opacity:1;-webkit-transform:scale(1.3)}to{opacity:.2;-webkit-transform:scale(.3)}}.loading span:first-child{-webkit-animation-delay:.13s}.loading span:nth-child(2){-webkit-animation-delay:.26s}.loading span:nth-child(3){-webkit-animation-delay:.39s}.loading span:nth-child(4){-webkit-animation-delay:.52s}.loading span:nth-child(5){-webkit-animation-delay:.65s}.l-bf-list{list-style:none;padding:0;margin:.2rem 0 0;font-size:.14rem;color:#78ddff}.l-bf-list li{height:.4rem;line-height:.4rem}.l-bf-list li div{width:1rem;display:inline-block}.l-bf-color{width:1.9rem;height:.15rem;background:#454e6c;display:inline-block}","",{version:3,sources:["/var/gdpublic/gdpublic/pages/summary/tdview.vue"],names:[],mappings:"AACA,KACI,eAAiB,CACpB,AACD,KACI,uBAAyB,CAC5B,AAED,KACI,eAAgB,AAChB,OAAQ,AACR,SAAU,AACV,mBAAoB,AACpB,4BAA8B,AAC9B,cAAe,AACf,WAAY,AACZ,WAAY,AACZ,eAAkB,CACrB,AAED,QACI,kBAAmB,AACnB,gBAAiB,AACjB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,QAAU,CACb,AAED,KACI,eAAgB,AAChB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,cAAe,AACf,kBAAmB,AACnB,iBAAkB,AAClB,cAAe,AACf,qBAAsB,AACtB,8BAA+B,AACvB,sBAAuB,AAC/B,wCAAyC,AACzC,kBAAoB,CACvB,AAED,UACI,cAAe,AAGf,SAAU,AAGV,mBAAoB,AACpB,6BAAoC,AACpC,YAAa,AACb,gBAAkB,CACrB,AACD,wBAVI,kBAAmB,AACnB,MAAO,AAEP,OAAQ,AACR,OAAS,CAeZ,AATD,cACI,kBAAmB,AACnB,cAAe,AACf,YAAa,AAGb,aAAc,CAGjB,AAED,SACI,WAAY,AACZ,WAAa,CAChB,AAED,SACI,aAAc,AACd,cAAe,AACf,cAAe,AACf,QAAS,AACT,SAAU,AACV,iBAAmB,CACtB,AACD,cACI,qBAAsB,AACtB,aAAc,AACd,YAAa,AACb,oBAAqB,AACrB,kBAAmB,AACnB,gBAAiB,AACjB,0CAA4C,CAC/C,AACD,yBACI,cAAkB,CACrB,AACD,wBACA,GACQ,UAAW,AACX,4BAA8B,CACrC,AACD,GACQ,WAAa,AACb,2BAA6B,CACpC,CACA,AACD,0BACI,4BAA+B,CAClC,AACD,2BACI,4BAA+B,CAClC,AACD,2BACI,4BAA+B,CAClC,AACD,2BACI,4BAA+B,CAClC,AACD,2BACI,4BAA+B,CAClC,AACD,WACI,gBAAiB,AACjB,UAAW,AACX,iBAAoB,AACpB,iBAAkB,AAClB,aAAe,CAClB,AACD,cACI,aAAc,AACd,iBAAmB,CACtB,AACD,kBACI,WAAY,AACZ,oBAAsB,CACzB,AACD,YACI,aAAc,AACd,cAAe,AACf,mBAAoB,AACpB,oBAAsB,CACzB",file:"tdview.vue",sourcesContent:["\nhtml{\n    font-size: 100px;\n}\nbody{\n    font-family: PingFang SC;\n}\n/*标签样式*/\n#tag {\n    position: fixed;\n    top: 2%;\n    right: 2%;\n    background: #3569C6;\n    border: 0.01rem solid #00AEFF;\n    padding: .1rem;\n    width: 3rem;\n    color: #fff;\n    font-weight: bold;\n}\n/*场景样式*/\n#editor {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n/*进度条样式*/\n#bqy{\n    position: fixed;\n    background-color: #fff;\n    display: inline-block;\n    padding: 0 .1rem;\n    height: .32rem;\n    line-height: .3rem;\n    font-size: .12rem;\n    color: #409eff;\n    border-radius: .04rem;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    border: .03rem solid rgba(64,158,255,.2);\n    white-space: nowrap;\n}\n/*进度条样式*/\n#progress {\n    color: #78ddff;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #f7f7f7;\n    background: rgba(247, 247, 247, .9);\n    z-index: 100;\n    font-size: .24rem;\n}\n#progress-box {\n    text-align: center;\n    height: .78rem;\n    margin: auto;\n    position: absolute;\n    top: 0;\n    bottom:.36rem;\n    left: 0;\n    right: 0;\n}\n/*LOGO*/\n#imglogo{\n    width: 2rem;\n    height: 1rem;\n}\n/*跳转进度条*/\n.loading {\n    width: 1.5rem;\n    height: .15rem;\n    margin: 0 auto;\n    top: 35%;\n    left: 50%;\n    position: absolute;\n}\n.loading span {\n    display: inline-block;\n    width: .15rem;\n    height: 100%;\n    margin-right: .05rem;\n    border-radius: 50%;\n    background: #333;\n    -webkit-animation: load 1.04s ease infinite;\n}\n.loading span:last-child {\n    margin-right: 0px;\n}\n@-webkit-keyframes load {\n0% {\n        opacity: 1;\n        -webkit-transform: scale(1.3);\n}\n100% {\n        opacity: 0.2;\n        -webkit-transform: scale(.3);\n}\n}\n.loading span:nth-child(1) {\n    -webkit-animation-delay: 0.13s;\n}\n.loading span:nth-child(2) {\n    -webkit-animation-delay: 0.26s;\n}\n.loading span:nth-child(3) {\n    -webkit-animation-delay: 0.39s;\n}\n.loading span:nth-child(4) {\n    -webkit-animation-delay: 0.52s;\n}\n.loading span:nth-child(5) {\n    -webkit-animation-delay: 0.65s;\n}\n.l-bf-list{\n    list-style: none;\n    padding: 0;\n    margin: .2rem 0 0 0;\n    font-size: .14rem;\n    color: #78ddff;\n}\n.l-bf-list li{\n    height: .4rem;\n    line-height: .4rem;\n}\n.l-bf-list li div{\n    width: 1rem;\n    display: inline-block;\n}\n.l-bf-color{\n    width: 1.9rem;\n    height: .15rem;\n    background: #454E6C;\n    display: inline-block;\n}\n"],sourceRoot:""}])},846:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"editor"}}),a("div",{style:{top:e.positiony-70+"px",left:e.positionx-30+"px"},attrs:{id:"bqy"}},[e._v("\n        "+e._s(e.tag)+"\n    ")]),a("transition",{attrs:{name:"fade"}},[e.loadding?a("div",{attrs:{id:"progress"}},[a("div",{attrs:{id:"progress-box"}},[a("div",[a("img",{attrs:{id:"imglogo",src:i(646)}})]),a("div",[e._v(e._s(e.progress))])])]):e._e()]),a("div",{attrs:{id:"tag"}},[a("div",{staticStyle:{margin:".15rem 0",color:"#78ddff","font-size":".24rem"}},[e._v("\n            开启热力图\n            "),a("el-switch",{model:{value:e.isHot,callback:function(t){e.isHot=t},expression:"isHot"}})],1),e._m(0)]),e.isJump?a("div",{staticClass:"loading"},[a("span"),a("span"),a("span"),a("span"),a("span")]):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"l-bf-list"},[i("li",[i("div",[e._v("0~100人")]),i("span",{staticClass:"l-bf-color"},[i("span",{staticStyle:{display:"block",width:"40%",background:"#BE6C75",height:"100%"}})])]),i("li",[i("div",[e._v("100~200人")]),i("span",{staticClass:"l-bf-color"},[i("span",{staticStyle:{display:"block",width:"50%",background:"#FB2119",height:"100%"}})])]),i("li",[i("div",[e._v("200人以上")]),i("span",{staticClass:"l-bf-color"},[i("span",{staticStyle:{display:"block",width:"100%",background:"#BC0101",height:"100%"}})])])])}]}},885:function(e,t,i){var a=i(765);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(77)("59639797",a,!0)}});